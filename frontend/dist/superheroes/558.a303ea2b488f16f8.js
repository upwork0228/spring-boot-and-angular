"use strict";(self.webpackChunksuperheroes=self.webpackChunksuperheroes||[]).push([[558],{5558:(ct,v,a)=>{a.r(v),a.d(v,{AntiHeroModule:()=>st});var I=a(9808),d=a(3007),h=(()=>{return(e=h||(h={}))[e.Create=0]="Create",e[e.DeleteAll=1]="DeleteAll",h;var e})(),H=(()=>{return(e=H||(H={}))[e.View=0]="View",e[e.Delete=1]="Delete",H;var e})(),c=a(5620),s=(()=>{return(e=s||(s={})).GET_ANTI_HERO_LIST="[Anti-Hero] Get Anti-Hero list",e.SET_ANTI_HERO_LIST="[Anti-Hero] Set Anti-Hero list",e.ADD_ANTI_HERO_API="[Anti-Hero] Add Anti-Hero (API",e.ADD_ANTI_HERO_STATE="[Anti-Hero] Add Anti-Hero (STATE)",e.MODIFY_ANTI_HERO_API="[Anti-Hero] Modify Anti-Hero (API)",e.MODIFY_ANTI_HERO_STATE="[Anti-Hero] Modify Anti-Hero (STATE)",e.REMOVE_ANTI_HERO_API="[Anti-Hero] Remove Anti-Hero (API)",e.REMOVE_ANTI_HERO_STATE="[Anti-Hero] Remove Anti-Hero (STATE)",e.REMOVE_ALL_ANTI_HERO_API="[Anti-Hero] Remove All Anti-Hero (API)",e.REMOVE_ALL_ANTI_HERO_STATE="[Anti-Hero] Remove ALL Anti-Hero (STATE)",s;var e})();(0,c.PH)(s.GET_ANTI_HERO_LIST);const S=(0,c.PH)(s.SET_ANTI_HERO_LIST,(0,c.Ky)()),b=(0,c.PH)(s.ADD_ANTI_HERO_STATE,(0,c.Ky)()),D=(0,c.PH)(s.MODIFY_ANTI_HERO_STATE,(0,c.Ky)()),U=(0,c.PH)(s.REMOVE_ANTI_HERO_STATE,(0,c.Ky)()),M=(0,c.PH)(s.REMOVE_ALL_ANTI_HERO_STATE),y=(0,c.ZF)("antiHeroState");var t=a(5e3),P=a(4594),O=a(7423),L=a(5245);let $=(()=>{class e{constructor(){this.action=new t.vpe}ngOnInit(){}emitAction(n){this.action.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-anti-hero-command-bar"]],outputs:{action:"action"},decls:11,vars:0,consts:[["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"p")(1,"mat-toolbar")(2,"button",0),t.NdJ("click",function(){return o.emitAction(0)}),t.TgZ(3,"mat-icon"),t._uU(4,"fiber_new"),t.qZA(),t._uU(5," Create "),t.qZA(),t._uU(6," \xa0 "),t.TgZ(7,"button",1),t.NdJ("click",function(){return o.emitAction(1)}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA(),t._uU(10," Delete All "),t.qZA()()())},directives:[P.Ye,O.lW,L.Hw],styles:[""]}),e})();var p=a(2781);function J(e,i){if(1&e&&(t.TgZ(0,"th",8),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.headerName," ")}}function Y(e,i){if(1&e&&(t.TgZ(0,"td",9),t._uU(1),t.qZA()),2&e){const n=i.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",n[o.fieldName]," ")}}function V(e,i){1&e&&(t.ynx(0,7),t.YNc(1,J,2,1,"th",3),t.YNc(2,Y,2,1,"td",4),t.BQk()),2&e&&t.Q6J("matColumnDef",i.$implicit.fieldName)}function B(e,i){1&e&&(t.TgZ(0,"th",8),t._uU(1," Actions "),t.qZA())}function j(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",9)(1,"button",10),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().selectAntiHero(r,0)}),t.TgZ(2,"mat-icon"),t._uU(3,"pageview"),t.qZA(),t._uU(4," View "),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",11),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().selectAntiHero(r,1)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t._uU(9," Delete "),t.qZA()()}}function G(e,i){1&e&&t._UZ(0,"tr",12)}function K(e,i){1&e&&t._UZ(0,"tr",13)}let z=(()=>{class e{constructor(){this.headers=[],this.antiHeroes=[],this.antiHero=new t.vpe,this.headerFields=[]}ngOnInit(){this.getHeaderFields()}getHeaderFields(){this.headerFields=this.headers.map(n=>n.fieldName),this.headerFields.push("actions")}selectAntiHero(n,o){this.antiHero.emit({antiHero:n,action:o})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-anti-hero-list"]],inputs:{headers:"headers",antiHeroes:"antiHeroes"},outputs:{antiHero:"antiHero"},decls:7,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"table",0),t.YNc(1,V,3,1,"ng-container",1),t.ynx(2,2),t.YNc(3,B,2,0,"th",3),t.YNc(4,j,10,0,"td",4),t.BQk(),t.YNc(5,G,1,0,"tr",5),t.YNc(6,K,1,0,"tr",6),t.qZA()),2&n&&(t.Q6J("dataSource",o.antiHeroes),t.xp6(1),t.Q6J("ngForOf",o.headers),t.xp6(4),t.Q6J("matHeaderRowDef",o.headerFields),t.xp6(1),t.Q6J("matRowDefColumns",o.headerFields))},directives:[p.BZ,I.sg,p.w1,p.fO,p.ge,p.Dz,p.ev,O.lW,L.Hw,p.as,p.XQ,p.nj,p.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})(),Q=(()=>{class e{constructor(n,o){this.router=n,this.store=o,this.antiHeroes=[],this.antiHeroes$=this.store.select((0,c.P1)(y,e=>e.antiHeroes)),this.headers=[{headerName:"First Name",fieldName:"firstName"},{headerName:"Last Name",fieldName:"lastName"},{headerName:"House",fieldName:"house"},{headerName:"Known As",fieldName:"knownAs"}]}ngOnInit(){this.store.dispatch({type:s.GET_ANTI_HERO_LIST}),this.assignAntiHeroes()}assignAntiHeroes(){this.antiHeroes$.subscribe(n=>{this.antiHeroes=n})}selectAntiHero(n){switch(n.action){case H.View:return void this.router.navigate(["anti-heroes","form",n.antiHero.id]);case H.Delete:return void this.store.dispatch({type:s.REMOVE_ANTI_HERO_API,payload:n.antiHero.id})}}executeCommandBarAction(n){switch(n){case h.Create:return void this.router.navigate(["anti-heroes","form"]);case h.DeleteAll:return void this.store.dispatch({type:s.REMOVE_ALL_ANTI_HERO_API,payload:[...this.antiHeroes.map(o=>o.id)]})}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.F0),t.Y36(c.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:2,vars:2,consts:[[3,"action"],[3,"antiHeroes","headers","antiHero"]],template:function(n,o){1&n&&(t.TgZ(0,"app-anti-hero-command-bar",0),t.NdJ("action",function(r){return o.executeCommandBarAction(r)}),t.qZA(),t.TgZ(1,"app-anti-hero-list",1),t.NdJ("antiHero",function(r){return o.selectAntiHero(r)}),t.qZA()),2&n&&(t.xp6(1),t.Q6J("antiHeroes",o.antiHeroes)("headers",o.headers))},directives:[$,z],styles:["button[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();var A=a(3075),k=a(9224),R=a(4106),X=a(7531);let W=(()=>{class e{constructor(n){this.fb=n,this.selectedAntiHero=null,this.actionButtonLabel="Create",this.action=new t.vpe,this.form=this.fb.group({id:[""],firstName:[""],lastName:[""],house:[""],knownAs:[""]})}ngOnInit(){this.checkAction()}checkAction(){this.selectedAntiHero&&(this.actionButtonLabel="Update",this.patchDataValues())}patchDataValues(){this.selectedAntiHero&&this.form.patchValue(this.selectedAntiHero)}emitAction(){this.action.emit({value:this.form.value,action:this.actionButtonLabel})}clear(){this.form.reset()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-anti-hero-form"]],inputs:{selectedAntiHero:"selectedAntiHero",actionButtonLabel:"actionButtonLabel"},outputs:{action:"action"},decls:26,vars:3,consts:[[1,"form-card"],[1,"anti-hero-form",3,"formGroup"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","firstName","placeholder","Ex. Tony"],["matInput","","formControlName","lastName","placeholder","Ex. Stark"],["matInput","","formControlName","house","placeholder","Ex. California"],["matInput","","formControlName","knownAs","placeholder","Ex. Iron Man"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"mat-card",0)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"First Name"),t.qZA(),t._UZ(7,"input",3),t.qZA(),t.TgZ(8,"mat-form-field",2)(9,"mat-label"),t._uU(10,"Last Name"),t.qZA(),t._UZ(11,"input",4),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14,"House"),t.qZA(),t._UZ(15,"input",5),t.qZA(),t.TgZ(16,"mat-form-field",2)(17,"mat-label"),t._uU(18,"Known As"),t.qZA(),t._UZ(19,"input",6),t.qZA(),t.TgZ(20,"div",7)(21,"button",8),t.NdJ("click",function(){return o.emitAction()}),t._uU(22),t.qZA(),t._uU(23," \xa0 "),t.TgZ(24,"button",9),t.NdJ("click",function(){return o.clear()}),t._uU(25," Clear "),t.qZA()()()()),2&n&&(t.xp6(2),t.Oqu(o.selectedAntiHero?"Update/View Hero":"Create Hero"),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(19),t.hij(" ",o.actionButtonLabel," "))},directives:[k.a8,A._Y,A.JL,A.sg,R.KE,R.hX,X.Nt,A.Fj,A.JJ,A.u,O.lW],styles:[".anti-hero-form[_ngcontent-%COMP%]{min-width:500px;max-width:800px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.form-card[_ngcontent-%COMP%]{min-width:500px;max-width:800px;margin:auto}.button-group[_ngcontent-%COMP%]{margin-bottom:15px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;float:right}"]}),e})(),Z=(()=>{class e{constructor(n,o){this.router=n,this.store=o,this.antiHero=null,this.antiHero$=this.store.select((e=>(0,c.P1)(y,i=>i.antiHeroes.find(n=>n.id===e)))(this.router.snapshot.params.id)),this.antiHero$.subscribe(r=>{r&&(this.antiHero=r)})}ngOnInit(){}formAction(n){switch(n.action){case"Create":return void this.store.dispatch({type:s.ADD_ANTI_HERO_API,payload:n.value});case"Update":return void this.store.dispatch({type:s.MODIFY_ANTI_HERO_API,payload:n.value})}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.gz),t.Y36(c.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form"]],decls:1,vars:1,consts:[[3,"selectedAntiHero","action"]],template:function(n,o){1&n&&(t.TgZ(0,"app-anti-hero-form",0),t.NdJ("action",function(r){return o.formAction(r)}),t.qZA()),2&n&&t.Q6J("selectedAntiHero",o.antiHero)},directives:[W],styles:[""]}),e})();const q=[{path:"",component:Q},{path:"form",children:[{path:"",component:Z},{path:":id",component:Z}]}];let tt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(q)],d.Bz]}),e})();var et=a(8864);const ot=(0,c.Lq)({antiHeroes:[]},(0,c.on)(S,(e,{antiHeroes:i})=>Object.assign(Object.assign({},e),{antiHeroes:i})),(0,c.on)(U,(e,{antiHeroId:i})=>Object.assign(Object.assign({},e),{antiHeroes:e.antiHeroes.filter(n=>n.id!=i)})),(0,c.on)(b,(e,{antiHero:i})=>Object.assign(Object.assign({},e),{antiHeroes:[...e.antiHeroes,i]})),(0,c.on)(D,(e,{antiHero:i})=>Object.assign(Object.assign({},e),{antiHeroes:e.antiHeroes.map(n=>n.id===i.id?i:n)})),(0,c.on)(M,e=>Object.assign(Object.assign({},e),{antiHeroes:[]})));var m=a(4394),f=a(515),it=a(4128),_=a(5577),T=a(4004),u=a(262),E=a(8505),g=a(2843),C=a(2340),F=a(520);let rt=(()=>{class e{constructor(n){this.http=n}getAntiHeroes(){return this.http.get(`${C.N.apiURL}/anti-heroes`).pipe((0,E.b)(n=>n),(0,u.K)(n=>(0,g._)(()=>n)))}getAntiHero(n){return this.http.get(`${C.N.apiURL}/anti-heroes/${n}`).pipe((0,E.b)(o=>o),(0,u.K)(o=>(0,g._)(()=>o)))}addAntiHero(n){return this.http.post(`${C.N.apiURL}/anti-heroes`,n).pipe((0,E.b)(o=>o),(0,u.K)(o=>(0,g._)(()=>o)))}updateAntiHero(n,o){return this.http.put(`${C.N.apiURL}/anti-heroes/${n}`,o).pipe((0,u.K)(l=>(0,g._)(()=>l)))}deleteAntiHero(n){return this.http.delete(`${C.N.apiURL}/anti-heroes/${n}`).pipe((0,u.K)(o=>(0,g._)(()=>o)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(F.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),at=(()=>{class e{constructor(n,o,l){this.actions$=n,this.antiHeroService=o,this.router=l,this.getAntiHeroes$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.GET_ANTI_HERO_LIST),(0,_.z)(()=>this.antiHeroService.getAntiHeroes().pipe((0,T.U)(r=>({type:s.SET_ANTI_HERO_LIST,antiHeroes:r})),(0,u.K)(()=>f.E)))),{dispatch:!0}),this.addAntiHero$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.ADD_ANTI_HERO_API),(0,_.z)(r=>this.antiHeroService.addAntiHero(r.payload).pipe((0,T.U)(N=>({type:s.ADD_ANTI_HERO_STATE,antiHero:r.payload})),(0,E.b)(()=>this.router.navigate(["anti-heroes"])),(0,u.K)(()=>f.E)))),{dispatch:!0}),this.modifyAntiHero$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.MODIFY_ANTI_HERO_API),(0,_.z)(r=>this.antiHeroService.updateAntiHero(r.payload.id,r.payload).pipe((0,T.U)(N=>({type:s.MODIFY_ANTI_HERO_STATE,antiHero:r.payload})),(0,E.b)(()=>this.router.navigate(["anti-heroes"])),(0,u.K)(()=>f.E)))),{dispatch:!0}),this.removeAntiHero$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.REMOVE_ANTI_HERO_API),(0,_.z)(r=>this.antiHeroService.deleteAntiHero(r.payload).pipe((0,T.U)(()=>({type:s.REMOVE_ANTI_HERO_STATE,antiHeroId:r.payload})),(0,u.K)(()=>f.E)))),{dispatch:!0}),this.removeAllAntiHero$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(s.REMOVE_ALL_ANTI_HERO_API),(0,_.z)(r=>(0,it.D)([...r.payload.map(N=>this.antiHeroService.deleteAntiHero(N))]).pipe((0,T.U)(()=>({type:s.REMOVE_ALL_ANTI_HERO_STATE})),(0,u.K)(()=>f.E)))),{dispatch:!0})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(m.eX),t.LFG(rt),t.LFG(d.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),st=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[I.ez,tt,A.UX,et.q,F.JF,c.Aw.forFeature("antiHeroState",ot),m.sQ.forFeature([at])]]}),e})()}}]);